# C++ Module 08 - STL Containers and Iterators

## 概要

C++ Module 08では、C++の標準テンプレートライブラリ（STL）の基本を学びます。

- **STLコンテナ**: データを格納するための標準的なデータ構造
- **イテレータ**: コンテナの要素にアクセスするための統一されたインターフェース
- **アルゴリズム**: コンテナの要素に対して操作を行う汎用的な関数

このモジュールを通じて、C++の標準ライブラリの強力な機能を活用し、効率的で保守性の高いコードを書けるようになります。

---

## ルール

- C++98準拠で開発すること
- `-Wall -Wextra -Werror -std=c++98` オプションを用いてコンパイル
- **STLの使用が許可される最初のモジュール**
- `printf`, `malloc`, `free` などのC関数は禁止
- `using namespace` や `friend` の使用も禁止
- メモリリークを避けること

---

## 各課題の概要

### ex00 - Easy find

**概要**:  
STLコンテナから特定の値を検索する汎用的な関数テンプレートを実装。

**実装内容**:
- `easyfind(container, value)`: コンテナから値を検索する関数テンプレート
- 見つからない場合は例外を投げる
- 様々なSTLコンテナ（`vector`, `list`, `deque`など）で動作

**技術的ポイント**:
- STLアルゴリズムの `std::find` の活用
- イテレータの使用
- 例外処理（`std::exception` の派生クラス）
- テンプレートによる汎用性の確保

---

### ex01 - Span

**概要**:  
整数の範囲を管理するクラスを実装し、STLコンテナの概念を理解する。

**実装内容**:
- `Span` クラス：整数の範囲を格納・管理
- 動的配列としての機能（要素の追加、アクセス）
- 範囲の統計情報（最小値、最大値、要素数）
- 例外処理（範囲外アクセス、容量不足など）

**技術的ポイント**:
- STLコンテナの内部実装の理解
- 動的メモリ管理
- イテレータの実装
- 例外安全性の確保

---

### ex02 - Mutated abomination

**概要**:  
STLコンテナの高度な機能を活用した複雑なデータ構造を実装。

**実装内容**:
- 複数のSTLコンテナを組み合わせたデータ構造
- イテレータの高度な使用法
- アルゴリズムの組み合わせ
- パフォーマンスの最適化

**技術的ポイント**:
- コンテナの選択と設計
- イテレータの種類と使い分け
- アルゴリズムの効率的な使用
- メモリ使用量の最適化

---

## STLの主要コンポーネント

### コンテナ（Containers）

**シーケンスコンテナ**:
- `vector`: 動的配列
- `list`: 双方向連結リスト
- `deque`: 両端キュー

**連想コンテナ**:
- `set`: ソートされた集合
- `map`: キー・値のペア
- `multiset`: 重複を許す集合

### イテレータ（Iterators）

**イテレータの種類**:
- `input_iterator`: 入力専用
- `output_iterator`: 出力専用
- `forward_iterator`: 前方向
- `bidirectional_iterator`: 双方向
- `random_access_iterator`: ランダムアクセス

### アルゴリズム（Algorithms）

**検索・操作**:
- `find`: 値の検索
- `count`: 値のカウント
- `sort`: ソート
- `reverse`: 逆順

---

## 技術的詳細

### イテレータの使用例

```cpp
#include <vector>
#include <algorithm>

std::vector<int> vec = {1, 2, 3, 4, 5};

// イテレータを使用した検索
std::vector<int>::iterator it = std::find(vec.begin(), vec.end(), 3);
if (it != vec.end()) {
    // 見つかった
}
```

### コンテナの選択指針

- **vector**: ランダムアクセスが頻繁、サイズが変動
- **list**: 挿入・削除が頻繁、ランダムアクセス不要
- **deque**: 両端での挿入・削除が頻繁
- **set**: ソートされた状態を維持、重複なし
- **map**: キー・値のペア、キーによる高速検索

---

## ビルドと実行方法

各課題はそれぞれのディレクトリにあり、独自のMakefileが含まれています。

### ex00 - Easy find

```bash
cd ex00
make
./easyfind
```

### ex01 - Span

```bash
cd ex01
make
./span
```

### ex02 - Mutated abomination

```bash
cd ex02
make
./mutated
```

---

## STLの利点

1. **標準化**: プラットフォームに依存しない
2. **効率性**: 最適化された実装
3. **再利用性**: 汎用的なデータ構造とアルゴリズム
4. **型安全性**: テンプレートによる型チェック
5. **保守性**: よく知られたインターフェース

---

## 注意事項

- イテレータの無効化に注意（コンテナの変更時）
- メモリ使用量の管理
- 例外安全性の確保
- パフォーマンスの考慮（コンテナの選択）

---

## 学習目標

このモジュールを通じて以下を習得します：

1. **STLの基本概念**: コンテナ、イテレータ、アルゴリズムの関係
2. **コンテナの選択**: 用途に応じた適切なコンテナの選択
3. **イテレータの使用**: 統一されたインターフェースの活用
4. **アルゴリズムの活用**: 汎用的な操作の効率的な実装
5. **メモリ管理**: STLコンテナでの自動メモリ管理